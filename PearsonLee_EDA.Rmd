---
title: "Heights of Parents and Children Classified by Gender"
author: "Matt Wilchek & Amelia Kelly"
date: "March 7, 2017"
output:
  ioslides_presentation:
    widescreen: true
    transition: slower
    smaller: true
runtime: shiny
---
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
library(ggplot2) # for graphing
library(lattice) # for graphing
library(car) # for graphing
library(memisc)
library(HistData)
library(png)
library(grid)
PearsonLeeData <- (HistData::PearsonLee) 
PearsonLee <- data.frame(PearsonLeeData)
child <- (PearsonLee$child)
parent<- (PearsonLee$parent)
PearsonLee$group <- as.factor(cases(
PearsonLee$gp == 'fs' -> 0,
PearsonLee$gp == 'md' -> 0,
PearsonLee$gp == 'fd' -> 1,
PearsonLee$gp == 'ms' -> 1
))
PearsonLee$avg <- (PearsonLee$child + PearsonLee$parent)/2
```

## Overview
- Goal
- Background of Dataset
- Research/Background
- Epicycles of Analysis
- Problem Definition (SMART)
- Initial Exploration (Variable Meanings)
- Initial Exploration (Descriptive Statistics)
- Coding Standards (Comments)
- Results/Interpretations
- Conclusions and Next Steps
```{rcpp}

```

## Goal (About)

- Investigate relationship of parent/child height distributions based on gender using the PearsonLee dataset from HIstData in R

## Research/Background

## Epicycles of Analysis
![Imgur](http://i.imgur.com/ygA3oT3.png)

## Problem Definition (SMART)
Do the means of the average of parent and children heights differ when parent and child have different gender?

- Specific: Are the means of the averages of Parent/Child Heights equal?
- Measurable: We can the take means
- Achievable: Can compare values via t test
- Relevant: Useful for researchers looking at relationship between height and gender
- Time-Scaled: Multiple data sets exist, so question can be answered in a timely manner

## Initial Exploration (Descriptive Statistics)
Initial summary of the PearsonLee dataset:

```{r echo=FALSE}
summary(PearsonLee)
```

## Initial Exploration (Variable Meanings)
- Child: child height in inches, a numeric vector
- Parent: parent height in inches, a numeric vector
- Frequency: a numeric vector
- GP: a factor with levels fd fs md ms
- Par: a factor with levels Father Mother
- Chl: a factor with levels Daughter Son
```{r echo=FALSE}
str(PearsonLee)
```
## Scatterplot of Children's and Parent's Heights 
## (High Level View)
By using scatterplots we can see a high level view for the distribution of all the data points, but from this we can see that we will need to categorize some of the data to answer our question.
```{r echo=FALSE}
require(lattice)
xyplot(child ~ parent|par+chl, data=PearsonLee, type=c("p", "r", "smooth"), col.line="red")
```

## Child Height Distribution {.smaller}

```{r echo=FALSE}
inputPanel(
  selectInput("n_breaks", label = "Number of bins:",
              choices = c(10, 20, 35, 50), selected = 20)
)

renderPlot({hist(child, probability = FALSE, breaks = as.numeric(input$n_breaks),
            xlab = "Children's Heights", main = "Histogram of Children's Heights", col="deepskyblue", plot = TRUE)
            abline(v=mean(parent), col="royalblue")
          })

```

## Parent Height Distribution {.smaller}

```{r echo=FALSE}
inputPanel(
  selectInput("n_breaks", label = "Number of bins:",
              choices = c(10, 20, 35, 50), selected = 20)
)

renderPlot({hist(parent, probability = FALSE, breaks = as.numeric(input$n_breaks),
            xlab = "Parent's Heights", main = "Histogram of Parent's Heights", col="deepskyblue", plot = TRUE)
            abline(v=mean(parent), col="royalblue")
         })
```

Through the scatterplots we can see where the concentration of observations lie and the trend of the dataset.

## Box Plot Representation of Heights for Father, Son, Mother & Daughter \n(Diving Deep)

```{r echo=FALSE}
par(mfrow=c(1,2))
boxplot(child~chl, data=PearsonLee, main="Boxplot of Children's Height",
xlab="Children", ylab="Children's Height", col=c('powderblue','mistyrose'))

boxplot(parent~par, data=PearsonLee, main="Boxplot of Parent's Height",
xlab="Parent", ylab="Parent's Height", col=c('mistyrose','powderblue'))
```

## Taking a t.test

```{r echo=FALSE}
t.test(PearsonLee$avg~PearsonLee$group) 
layout(matrix(c(1,2,2,3), 2, 2, byrow = TRUE), heights=c(2,1))
# plot(PearsonLee$gp,PearsonLee$avg)
boxplot(avg~group, data=PearsonLee, main="Boxplot of Average Heights by Group",
xlab="Group", ylab="Height", col = c('magenta','turquoise'))
```
